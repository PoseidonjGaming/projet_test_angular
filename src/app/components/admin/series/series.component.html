<app-menu></app-menu>
<div class="container-fluid">
    <div class="row">
        <div class="col mat-elevation-z8 m-2">
            <mat-tab-group [selectedIndex]="'1'">
                <mat-tab label="Séries" >
                    <app-to-add-table [type]="type" [columns]="columns" (populateEvent)="populate($event)"
                        (saveEvent)="saves($event)"></app-to-add-table>
                </mat-tab>
                <mat-tab label="Série">
                    <cdk-virtual-scroll-viewport itemSize="1" class="form-viewport m-2">
                        <app-form [type]="type" [form]="formSeries" [controls]="controls" [displayMap]="displayMap"
                            [typeMap]="typeMap" (submitEvent)="submit($event)"></app-form>
                    </cdk-virtual-scroll-viewport>
                </mat-tab>
                <mat-tab label="Catégories">
                    @if(formSeries){
                    <app-drag-and-drop [form]="formSeries" [property]="'categoryIds'" [propertyToDisplay]="'name'"
                        [type]="'category'"></app-drag-and-drop>
                    }
                </mat-tab>
            </mat-tab-group>

        </div>
        <div class="col m-2 mat-elevation-z8">
            <app-table-crud [type]="type" [columns]="columns" (populateEvent)="populate($event)"></app-table-crud>
        </div>
    </div>

</div>